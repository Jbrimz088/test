<div class="search-box">
  <input type="text" id="searchInput" placeholder="Search Movie Name...">
  <button onclick="runSearch()">Find Streams</button>
</div>

<div id="resultsList"></div>

<script>
async function runSearch() {
  const query = document.getElementById('searchInput').value;
  const list = document.getElementById('resultsList');
  list.innerHTML = "Searching the web...";

  // ðŸ”¥ This calls your Universal Scraper Worker
  const res = await fetch(`https://j-tv.jcbrimley.workers.dev/?q=${encodeURIComponent(query)}`);
  const data = await res.json();

  list.innerHTML = ""; // Clear status
  
  data.results.forEach(link => {
    const btn = document.createElement('button');
    btn.innerText = "Watch on: " + new URL(link).hostname;
    btn.onclick = () => { 
        // Send this link to your player or iframe
        location.href = `watch.html?url=${encodeURIComponent(link)}`; 
    };
    list.appendChild(btn);
  });
}
</script>
